{"ast":null,"code":"// Function to make a request\nconst request = async function (endpoint) {\n  let parameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let body = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  let method = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"GET\";\n  const apiUrl = `http://localhost:8080/${endpoint}?${new URLSearchParams(parameters).toString()}`;\n  const options = {\n    method: method,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: body ? JSON.stringify(body) : undefined\n  };\n  const response = await fetch(apiUrl, options);\n  if (!response.ok) {\n    throw new Error(`Request failed with status ${response.status}`);\n  }\n  try {\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return response;\n  }\n  const data = await response.json();\n  return data;\n};\nexport default request;","map":{"version":3,"names":["request","endpoint","parameters","arguments","length","undefined","body","method","apiUrl","URLSearchParams","toString","options","headers","JSON","stringify","response","fetch","ok","Error","status","data","json","err"],"sources":["C:/Users/vladm/Desktop/licenta_fe-master/src/api/request.js"],"sourcesContent":["// Function to make a request\nconst request = async (endpoint, parameters = {}, body = null, method = \"GET\") => {\n    const apiUrl = `http://localhost:8080/${endpoint}?${new URLSearchParams(parameters).toString()}`;\n\n    const options = {\n      method: method,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: body ? JSON.stringify(body) : undefined,\n    };\n  \n    const response = await fetch(apiUrl, options);\n  \n    if (!response.ok) {\n      throw new Error(`Request failed with status ${response.status}`);\n    }\n  \n  try{\n    const data = await response.json();\n    return data;\n  }\n  catch(err){\n    return response;\n  }\n    const data = await response.json();\n    return data;\n  };\n  \n  export default request;\n  "],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAG,eAAAA,CAAOC,QAAQ,EAAmD;EAAA,IAAjDC,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IAAEG,IAAI,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EAAA,IAAEI,MAAM,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EACzE,MAAMK,MAAM,GAAI,yBAAwBP,QAAS,IAAG,IAAIQ,eAAe,CAACP,UAAU,CAAC,CAACQ,QAAQ,CAAC,CAAE,EAAC;EAEhG,MAAMC,OAAO,GAAG;IACdJ,MAAM,EAAEA,MAAM;IACdK,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDN,IAAI,EAAEA,IAAI,GAAGO,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC,GAAGD;EACtC,CAAC;EAED,MAAMU,QAAQ,GAAG,MAAMC,KAAK,CAACR,MAAM,EAAEG,OAAO,CAAC;EAE7C,IAAI,CAACI,QAAQ,CAACE,EAAE,EAAE;IAChB,MAAM,IAAIC,KAAK,CAAE,8BAA6BH,QAAQ,CAACI,MAAO,EAAC,CAAC;EAClE;EAEF,IAAG;IACD,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAClC,OAAOD,IAAI;EACb,CAAC,CACD,OAAME,GAAG,EAAC;IACR,OAAOP,QAAQ;EACjB;EACE,MAAMK,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAClC,OAAOD,IAAI;AACb,CAAC;AAED,eAAepB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}